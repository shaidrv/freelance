(()=>{"use strict";var t={5882:(t,e,n)=>{n(6992),n(8674),n(9601),n(7727);var s=n(5010),a=n(3396),r={class:"container with-nav"};function i(t,e,n,s,i,o){var u=(0,a.up)("the-navbar"),c=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(u),(0,a._)("div",r,[(0,a.Wm)(c)])],64)}var o={class:"navbar"},u=(0,a._)("h3",null,"Freelance",-1),c={class:"navbar-menu"};function l(t,e,n,s,r,i){var l=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("nav",o,[u,(0,a._)("ul",c,[(0,a._)("li",null,[(0,a.Wm)(l,{to:"/"},{default:(0,a.w5)((function(){return[(0,a.Uk)("Все задачи")]})),_:1})]),(0,a._)("li",null,[(0,a.Wm)(l,{to:"/new"},{default:(0,a.w5)((function(){return[(0,a.Uk)("Создать")]})),_:1})])])])}const d={};var p=n(89);const f=(0,p.Z)(d,[["render",l]]),h=f,k={components:{TheNavbar:h}},v=(0,p.Z)(k,[["render",i]]),m=v;var w=n(2483),g=(n(3710),n(7139)),b={key:0,class:"text-white center"},y={class:"text-white"},_={class:"card-title"},x=["onClick"];function T(t,e,n,s,r,i){var o=(0,a.up)("AppStatus");return 0===i.tasks.length?((0,a.wg)(),(0,a.iD)("h1",b,"Задач пока нет")):((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a._)("h3",y,"Всего активных задач: "+(0,g.zw)(i.activeTasksCount),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.tasks,(function(t){return(0,a.wg)(),(0,a.iD)("div",{class:"card",key:t.id},[(0,a._)("h2",_,[(0,a.Uk)((0,g.zw)(t.title)+" ",1),(0,a.Wm)(o,{type:t.status},null,8,["type"])]),(0,a._)("p",null,[(0,a._)("strong",null,[(0,a._)("small",null,(0,g.zw)(new Date(t.date).toLocaleDateString()),1)])]),(0,a._)("button",{class:"btn primary",onClick:function(e){return i.open(t.id)}},"Посмотреть",8,x)])})),128))],64))}n(7658);function S(t,e,n,s,r,i){return(0,a.wg)(),(0,a.iD)("span",{class:(0,g.C_)(["badge",i.badgeClass])},(0,g.zw)(i.title),3)}n(6699);const Z={data:function(){return{titles:{active:"Активен",done:"Завершен",cancelled:"Отменен",pending:"Выполняется"},classes:{active:"primary",done:"primary",cancelled:"danger",pending:"warning"}}},props:{type:{type:String,validator:function(t){return["active","done","cancelled","pending"].includes(t)}}},computed:{title:function(){return this.titles[this.type]},badgeClass:function(){return this.classes[this.type]}}},C=(0,p.Z)(Z,[["render",S]]),D=C,O={computed:{tasks:function(){return this.$store.getters.tasks},activeTasksCount:function(){return this.$store.getters.activeTasksCount}},mounted:function(){this.$store.dispatch("loadTasks")},methods:{open:function(t){this.$router.push("/task/"+t)}},components:{AppStatus:D}},j=(0,p.Z)(O,[["render",T]]),U=j;n(2526),n(1817);var $=(0,a._)("h1",null,"Создать новую задачу",-1),z={class:"form-control"},A=(0,a._)("label",{for:"title"},"Название",-1),W={class:"form-control"},P=(0,a._)("label",{for:"date"},"Дата дэдлайна",-1),V={class:"form-control"},B=(0,a._)("label",{for:"description"},"Описание",-1),H=["disabled"];function I(t,e,n,r,i,o){return(0,a.wg)(),(0,a.iD)("form",{class:"card",onSubmit:e[3]||(e[3]=(0,s.iM)((function(){return o.submit&&o.submit.apply(o,arguments)}),["prevent"]))},[$,(0,a._)("div",z,[A,(0,a.wy)((0,a._)("input",{type:"text",id:"title","onUpdate:modelValue":e[0]||(e[0]=function(t){return i.task.title=t})},null,512),[[s.nr,i.task.title]])]),(0,a._)("div",W,[P,(0,a.wy)((0,a._)("input",{type:"date",id:"date","onUpdate:modelValue":e[1]||(e[1]=function(t){return i.task.date=t})},null,512),[[s.nr,i.task.date]])]),(0,a._)("div",V,[B,(0,a.wy)((0,a._)("textarea",{id:"description","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.task.description=t})},null,512),[[s.nr,i.task.description]])]),(0,a._)("button",{class:"btn primary",disabled:!o.isValid},"Создать",8,H)],32)}var M=n(124),N=n(8534);const Y={data:function(){return{task:{title:"",date:null,description:""}}},computed:{isValid:function(){return""!=this.task.title&&this.task.date&&""!=this.task.description}},methods:{submit:function(){var t=this;return(0,N.Z)((0,M.Z)().mark((function e(){return(0,M.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("createTask",t.task);case 2:t.$router.push("/");case 3:case"end":return e.stop()}}),e)})))()}}},E=(0,p.Z)(Y,[["render",I]]),F=E;var J={key:0,class:"card"},L=(0,a._)("strong",null,"Статус",-1),K=(0,a._)("strong",null,"Дэдлайн",-1),q=(0,a._)("strong",null,"Описание",-1),G={key:1,class:"text-white center"};function Q(t,e,n,s,r,i){var o=(0,a.up)("AppStatus");return i.task?((0,a.wg)(),(0,a.iD)("div",J,[(0,a._)("h2",null,(0,g.zw)(i.task.title),1),(0,a._)("p",null,[L,(0,a.Uk)(": "),(0,a.Wm)(o,{type:i.task.status},null,8,["type"])]),(0,a._)("p",null,[K,(0,a.Uk)(": "+(0,g.zw)(new Date(i.task.date).toLocaleDateString()),1)]),(0,a._)("p",null,[q,(0,a.Uk)(": "+(0,g.zw)(i.task.description),1)]),(0,a._)("div",null,[(0,a._)("button",{class:"btn",onClick:e[0]||(e[0]=function(t){return i.changeStatus("pending")})}," Взять в работу "),(0,a._)("button",{class:"btn primary",onClick:e[1]||(e[1]=function(t){return i.changeStatus("done")})}," Завершить "),(0,a._)("button",{class:"btn danger",onClick:e[2]||(e[2]=function(t){return i.changeStatus("cancelled")})}," Отменить ")])])):((0,a.wg)(),(0,a.iD)("h3",G,[(0,a.Uk)(" Задачи с id = "),(0,a._)("strong",null,(0,g.zw)(i.id),1),(0,a.Uk)(" нет. ")]))}const R={computed:{task:function(){return this.$store.getters.taskById(this.id)},id:function(){return this.$route.params.id}},methods:{changeStatus:function(t){this.$store.dispatch("changeStatus",{status:t,id:this.id})}},components:{AppStatus:D}},X=(0,p.Z)(R,[["render",Q]]),tt=X;var et=[{path:"/",name:"tasks",component:U},{path:"/new",name:"new",component:F},{path:"/task/:id",name:"task",component:tt}],nt=(0,w.p7)({history:(0,w.PO)("/"),routes:et,linkActiveClass:"active",linkExactActiveClass:"active"});const st=nt;var at=n(5082),rt=(n(7327),n(1539),n(9826),n(1249),n(7941),n(8862),n(8309),n(65));const it=(0,rt.MT)({state:{tasks:[]},getters:{tasks:function(t){return t.tasks},activeTasksCount:function(t){return t.tasks.filter((function(t){return"active"===t.status})).length},taskById:function(t,e){return function(t){return e.tasks.find((function(e){return e.id===t}))}}},mutations:{createTask:function(t,e){return t.tasks.push(e)},setTasks:function(t,e){return t.tasks=e},changeStatus:function(t,e){var n=t.tasks.find((function(t){return t.id===e.id}));n.status=e.status}},actions:{loadTasks:function(t){return(0,N.Z)((0,M.Z)().mark((function e(){var n,s,a,r;return(0,M.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,fetch("https://tasks-ae30f-default-rtdb.firebaseio.com/tasks.json");case 3:return s=e.sent,e.next=6,s.json();case 6:a=e.sent,r=Object.keys(a).map((function(t){return(0,at.Z)({id:t},a[t])})),n("setTasks",r);case 9:case"end":return e.stop()}}),e)})))()},createTask:function(t,e){return(0,N.Z)((0,M.Z)().mark((function n(){var s,a,r,i;return(0,M.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=t.commit,new Date(e.date)>=new Date?e.status="active":e.status="cancelled",n.next=4,fetch("https://tasks-ae30f-default-rtdb.firebaseio.com/tasks.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 4:return a=n.sent,n.next=7,a.json();case 7:r=n.sent,i=r.name,e.id=i,s("createTask",e);case 11:case"end":return n.stop()}}),n)})))()},changeStatus:function(t,e){return(0,N.Z)((0,M.Z)().mark((function n(){var s,a,r;return(0,M.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=t.commit,a=t.getters,s("changeStatus",e),r=a.taskById(e.id),n.next=5,fetch("https://tasks-ae30f-default-rtdb.firebaseio.com/tasks/".concat(e.id,".json"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 5:n.sent;case 6:case"end":return n.stop()}}),n)})))()}}});(0,s.ri)(m).use(it).use(st).mount("#app")}},e={};function n(s){var a=e[s];if(void 0!==a)return a.exports;var r=e[s]={exports:{}};return t[s](r,r.exports,n),r.exports}n.m=t,(()=>{var t=[];n.O=(e,s,a,r)=>{if(!s){var i=1/0;for(l=0;l<t.length;l++){for(var[s,a,r]=t[l],o=!0,u=0;u<s.length;u++)(!1&r||i>=r)&&Object.keys(n.O).every((t=>n.O[t](s[u])))?s.splice(u--,1):(o=!1,r<i&&(i=r));if(o){t.splice(l--,1);var c=a();void 0!==c&&(e=c)}}return e}r=r||0;for(var l=t.length;l>0&&t[l-1][2]>r;l--)t[l]=t[l-1];t[l]=[s,a,r]}})(),(()=>{n.n=t=>{var e=t&&t.__esModule?()=>t["default"]:()=>t;return n.d(e,{a:e}),e}})(),(()=>{n.d=(t,e)=>{for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()})(),(()=>{n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)})(),(()=>{var t={143:0};n.O.j=e=>0===t[e];var e=(e,s)=>{var a,r,[i,o,u]=s,c=0;if(i.some((e=>0!==t[e]))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(u)var l=u(n)}for(e&&e(s);c<i.length;c++)r=i[c],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(l)},s=self["webpackChunkfreelance"]=self["webpackChunkfreelance"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))})();var s=n.O(void 0,[998],(()=>n(5882)));s=n.O(s)})();
//# sourceMappingURL=app.74324d04.js.map